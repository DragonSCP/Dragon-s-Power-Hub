-- AutoClickModule.lua
local AutoClickModule = {}

local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")

function AutoClickModule.Click()
    wait(0.1)
    VirtualUser:CaptureController()
    VirtualUser:Button1Down(Vector2.new(1280, 672))
end

function AutoClickModule.AutoHaki()
    if not Players.LocalPlayer.Character:FindFirstChild("HasBuso") then
        ReplicatedStorage.Remotes.CommF_:InvokeServer("Buso")
    end
end

function AutoClickModule.UnEquipWeapon(Weapon)
    if Players.LocalPlayer.Character:FindFirstChild(Weapon) then
        _G.NotAutoEquip = true
        wait(0.5)
        Players.LocalPlayer.Character:FindFirstChild(Weapon).Parent = Players.LocalPlayer.Backpack
        wait(0.1)
        _G.NotAutoEquip = false
    end
end

function AutoClickModule.EquipWeapon(ToolSe)
    if not _G.NotAutoEquip then
        if Players.LocalPlayer.Backpack:FindFirstChild(ToolSe) then
            local Tool = Players.LocalPlayer.Backpack:FindFirstChild(ToolSe)
            wait(0.1)
            Players.LocalPlayer.Character.Humanoid:EquipTool(Tool)
        end
    end
end

function AutoClickModule.GetDistance(target)
    return math.floor((target.Position - Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude)
end

function AutoClickModule.TP(Pos)
    local Distance = (Pos.Position - Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
    local Speed

    if Distance < 25 then
        Speed = 10000
    elseif Distance < 50 then
        Speed = 2000
    elseif Distance < 150 then
        Speed = 800
    elseif Distance < 250 then
        Speed = 600
    elseif Distance < 500 then
        Speed = 400
    elseif Distance < 750 then
        Speed = 250
    else
        Speed = 200
    end

    TweenService:Create(
        Players.LocalPlayer.Character.HumanoidRootPart,
        TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear),
        {CFrame = Pos}
    ):Play()
end

return AutoClickModule
