local AutoClickModule = {}
local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")

-- Variável para controlar o estado do Auto Click
AutoClickModule.AutoClickEnabled = false

-- Função para realizar um clique
function AutoClickModule.Click()
    while AutoClickModule.AutoClickEnabled do
        wait(0.1) -- Delay de 0.1 segundos entre os cliques
        VirtualUser:CaptureController()
        VirtualUser:Button1Down(Vector2.new(1280, 672))  -- Posição do clique
        VirtualUser:Button1Up(Vector2.new(1280, 672))    -- Solta o botão
    end
end

-- Função para ativar o Auto Click
function AutoClickModule.StartAutoClick()
    if not AutoClickModule.AutoClickEnabled then
        AutoClickModule.AutoClickEnabled = true
        AutoClickModule.Click()  -- Inicia o loop de cliques
    end
end

-- Função para desativar o Auto Click
function AutoClickModule.StopAutoClick()
    AutoClickModule.AutoClickEnabled = false
end

-- Função para ativar Haki
function AutoClickModule.AutoHaki()
    if not Players.LocalPlayer.Character:FindFirstChild("HasBuso") then
        ReplicatedStorage.Remotes.CommF_:InvokeServer("Buso")
    end
end

-- Função para desequipar a arma
function AutoClickModule.UnEquipWeapon(Weapon)
    if Players.LocalPlayer.Character:FindFirstChild(Weapon) then
        _G.NotAutoEquip = true
        wait(0.5)
        Players.LocalPlayer.Character:FindFirstChild(Weapon).Parent = Players.LocalPlayer.Backpack
        wait(0.1)
        _G.NotAutoEquip = false
    end
end

-- Função para equipar a arma
function AutoClickModule.EquipWeapon(ToolSe)
    if not _G.NotAutoEquip then
        if Players.LocalPlayer.Backpack:FindFirstChild(ToolSe) then
            local Tool = Players.LocalPlayer.Backpack:FindFirstChild(ToolSe)
            wait(0.1)
            Players.LocalPlayer.Character.Humanoid:EquipTool(Tool)
        end
    end
end

-- Função para calcular a distância
function AutoClickModule.GetDistance(target)
    return math.floor((target.Position - Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude)
end

-- Função para teleportar
function AutoClickModule.TP(Pos)
    local Distance = (Pos.Position - Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
    local Speed

    if Distance < 25 then
        Speed = 10000
    elseif Distance < 50 then
        Speed = 2000
    elseif Distance < 150 then
        Speed = 800
    elseif Distance < 250 then
        Speed = 600
    elseif Distance < 500 then
        Speed = 400
    elseif Distance < 750 then
        Speed = 250
    else
        Speed = 200
    end

    TweenService:Create(
        Players.LocalPlayer.Character.HumanoidRootPart,
        TweenInfo.new(Distance / Speed, Enum.EasingStyle.Linear),
        {CFrame = Pos}
    ):Play()
end

return AutoClickModule
